const e=async()=>{try{const a=await fetch("https://sph-c-api.olympics.com/summer/competition/api/ENG/medals");if(!a.ok)throw new Error("Network response was not ok "+a.statusText);const t=await a.json();chrome.storage.local.set({medalData:t.medalStandings.medalsTable})}catch(a){console.error("Error fetching medal data:",a)}};chrome.runtime.onInstalled.addListener(()=>{chrome.alarms.create("fetchMedalData",{periodInMinutes:30}),e()});chrome.alarms.onAlarm.addListener(a=>{a.name==="fetchMedalData"&&e()});
